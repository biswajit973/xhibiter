{% extends 'base.html' %}
{% load static %}

{% block content %}

    <main>
      <!-- Create -->
      <section class="relative py-24">
        <picture class="pointer-events-none absolute inset-0 -z-10 dark:hidden">
          <img src="{% static 'img/gradient_light.jpg' %}" alt="gradient" class="h-full w-full" />
        </picture>
        <div class="container">
          <ul
                class="nav nav-tabs mt-10 mb-5 flex  items-center justify-start md:justify-center space-x-4 md:space-x-6"
                role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active relative flex items-center whitespace-nowrap py-3 px-6 text-jacarta-400 hover:text-jacarta-700 dark:hover:text-white"
                    id="ethereum-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#profiletab"
                    type="button"
                    role="tab"
                    aria-controls="profile-tab"
                    aria-selected="true"
                  >
                    
                    <span class="font-display text-base font-medium">Profile</span>
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link relative flex items-center whitespace-nowrap py-3 px-6 text-jacarta-400 hover:text-jacarta-700 dark:hover:text-white"
                    id="torus-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#accounttab"
                    type="button"
                    role="tab"
                    aria-controls="account-tab"
                    aria-selected="false"
                  >
                    <span class="font-display text-base font-medium">Account</span>
                  </button>
                </li>
          </ul>
              <div class="tab-content">
                <!-- Ethereum -->
      <div class="tab-pane fade show active" id="profiletab" role="tabpanel" aria-labelledby="profile-tab">   
        {% if user.is_expert %}  
        <form id="profileForm">
          <div class="mx-auto max-w-[48.125rem]">
            <!-- File Upload -->
              <figure class="relative inline-block">
                <img id ="profileImage"
                  src="{% if user.profile_picture %}{{ user.profile_picture.url }}{% else %}{% static 'img/user/user_avatar.gif' %}{% endif %}"
                  alt="collection avatar"
                  class="rounded-xl border-[5px] border-white dark:border-jacarta-600"style="width: 100px; height: 100px; object-fit: contain;"
                />
                <div
                  class="group absolute -right-3 -bottom-2 h-8 w-8 overflow-hidden rounded-full border border-jacarta-100 bg-white text-center hover:border-transparent hover:bg-accent"
                >
                  <input id="imageupload" type="file" accept="image/*" class="absolute top-0 left-0 w-full cursor-pointer opacity-0" />
                  <div class="flex h-full items-center justify-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      width="24"
                      height="24"
                      class="h-4 w-4 fill-jacarta-400 group-hover:fill-white"
                    >
                      <path fill="none" d="M0 0h24v24H0z" />
                      <path
                        d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z"
                      />
                    </svg>
                  </div>
                </div>
              </figure>
            
            <div class="mt-2 mb-6">
              <span class="mb-3 block font-display text-sm text-jacarta-700 dark:text-white">Profile Image</span>
             
            </div>
            <div class="flex items-center space-x-2 mb-6">
              <div class="w-full">
                <label for="username" class="block text-sm font-medium  font-display text-jacarta-700 dark:text-white">
                  Your page link
                </label>
                <div class="relative mt-1 flex rounded-md shadow-sm">
                  <span class="inline-flex items-center px-3 text-gray-500 bg-gray-100 border border-gray-300 rounded-l-md">
                    https://sandbox.wemakesoftwares.com/
                  </span>
                  <input type="text" id="userName"
                    class="flex-1 block w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                    placeholder="Enter your username" value="{{ user.yourusername|default:'' }}">
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3" style="width:3%" id="status-icon"></span>
                </div>
                <p id="error-message" class="mt-1 text-sm"></p>
              </div>
              <a href="#" class="text-gray-500 hover:text-gray-700">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
                  stroke-linecap="round" stroke-linejoin="round">
                  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                  <polyline points="15 3 21 3 21 9"></polyline>
                  <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
              </a>
            </div>
            
            <!-- Name -->
            <div class="flex space-x-7">
              <div class="mb-6 w-1/2">
                <label for="firstname" class="mb-1 block font-display text-sm  text-left text-jacarta-700 dark:text-white"
                  >First Name<span class="text-red">*</span></label
                >
                <input
                  name="firstname" placeholder="firstname"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="firstName"
                  type="text" value="{{ user.firstname|default:'' }}"
                  required
                />
              </div>
              <div class="mb-6 w-1/2">
                <label for="lastname" class="mb-1 block font-display  text-left  text-sm text-jacarta-700 dark:text-white"
                  >Last Name<span class="text-red">*</span></label>
                <input
                  name="lastname" placeholder="lastname" value="{{ user.lastname|default:'' }}"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="lastName"
                  type="text"
                  required
                />
              </div>
            </div>

            <!-- External Link -->
            <div class="mb-6">
              <label for="item-display-name" class="mb-2 block font-display text-jacarta-700 dark:text-white"
                >Display Name</label
              >
             
              <input
                type="text"
                id="displayName"
                class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                placeholder="display name" value="{{ user.displayname|default:'' }}"
              />
            </div>

            <!-- Description -->
            <div class="mb-6">
              <label for="item-description" class="mb-2 block font-display text-jacarta-700 dark:text-white"
                >Your Intro</label
              >
              <p class="mb-3 text-2xs dark:text-jacarta-300">
               let people know who you are.
              </p>
              <textarea
              type="text"
              id="introduction" 
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              
            >{{ user.introduction|default:'' }}</textarea>
            </div>

            <div class="mb-6">
              <label for="item-description" class="mb-2 block font-display text-jacarta-700 dark:text-white"
                >About Yourself</label
              >
              
              <textarea
              type="text"
              id="aboutYourself"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="tell us more about yourself, your interest and your experience"
            >{{ user.aboutyourself|default:'' }}</textarea>
            </div>
            <div class="flex space-x-7">
              <div class="mb-6 w-1/2">
                <label for="instagramLink" class="mb-1 block font-display text-sm  text-left text-jacarta-700 dark:text-white"
                  >Instagram Link<span class="text-red">*</span></label
                >
                <input
                  name="instagramLink" placeholder="instagram link"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="instagramLink"
                  type="text" value="{{ user.instagramlink|default:'' }}"
                  required
                />
              </div>
              <div class="mb-6 w-1/2">
                <label for="instagramfollowers" class="mb-1 block font-display  text-left  text-sm text-jacarta-700 dark:text-white"
                  >Instagram Followers Count<span class="text-red">*</span></label>
                <input
                  name="instagramfollowers" placeholder="instagram followers" value="{{ user.followersCount|default:'' }}"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="instagramFollowersCount"
                  type="text"
                  required
                />
              </div>
            </div>
            <div class="flex space-x-7">
              <div class="mb-6 w-1/2">
                <label for="youtubeLink" class="mb-1 block font-display text-sm  text-left text-jacarta-700 dark:text-white"
                  >Youtube Link<span class="text-red">*</span></label
                >
                <input
                  name="youtubeLink" placeholder="youtube link"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="youtubeLink"
                  type="text" value="{{ user.youtubelink|default:'' }}"
                  required
                />
              </div>
              <div class="mb-6 w-1/2">
                <label for="youtubesubscribers" class="mb-1 block font-display  text-left  text-sm text-jacarta-700 dark:text-white"
                  >Youtube Subscribers Count<span class="text-red">*</span></label>
                <input
                  name="youtubesubscribers" placeholder="instagram followers" value="{{ user.subscribersCount|default:'' }}"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="youtubeSubscribersCount"
                  type="text"
                  required
                />
              </div>
            </div>
           
            <!-- Submit -->
            <button
                      type="submit"
                      class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark mt-6"
                      id="profile-form-submit"
                    >
                      Submit
                    </button>
          </div>
        </form>
        {% else %}
        <form id="profileForm">
          <div class="mx-auto max-w-[48.125rem]">
            <!-- File Upload -->
              <figure class="relative inline-block">
                <img id ="profileImage"
                  src="{% if user.profile_picture %}{{ user.profile_picture.url }}{% else %}{% static 'img/user/user_avatar.gif' %}{% endif %}"
                  alt="collection avatar"
                  class="rounded-xl border-[5px] border-white dark:border-jacarta-600"style="width: 100px; height: 100px; object-fit: contain;"
                />
                <div
                  class="group absolute -right-3 -bottom-2 h-8 w-8 overflow-hidden rounded-full border border-jacarta-100 bg-white text-center hover:border-transparent hover:bg-accent"
                >
                  <input id="imageupload" type="file" accept="image/*" class="absolute top-0 left-0 w-full cursor-pointer opacity-0" />
                  <div class="flex h-full items-center justify-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      width="24"
                      height="24"
                      class="h-4 w-4 fill-jacarta-400 group-hover:fill-white"
                    >
                      <path fill="none" d="M0 0h24v24H0z" />
                      <path
                        d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z"
                      />
                    </svg>
                  </div>
                </div>
              </figure>
            
            <div class="mt-2 mb-6">
              <span class="mb-3 block font-display text-sm text-jacarta-700 dark:text-white">Profile Image</span>
             
            </div>
           
            
            <!-- Name -->
            <div class="flex space-x-7">
              <div class="mb-6 w-1/2">
                <label for="firstname" class="mb-1 block font-display text-sm  text-left text-jacarta-700 dark:text-white"
                  >First Name<span class="text-red">*</span></label
                >
                <input
                  name="firstname" placeholder="firstname"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="firstName"
                  type="text" value="{{ user.firstname|default:'' }}"
                  required
                />
              </div>
              <div class="mb-6 w-1/2">
                <label for="lastname" class="mb-1 block font-display  text-left  text-sm text-jacarta-700 dark:text-white"
                  >Last Name<span class="text-red">*</span></label>
                <input
                  name="lastname" placeholder="lastname" value="{{ user.lastname|default:'' }}"
                  class="contact-form-input w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                  id="lastName"
                  type="text"
                  required
                />
              </div>
            </div>

            <!-- External Link -->
            <div class="mb-6">
              <label for="item-display-name" class="mb-2 block font-display text-jacarta-700 dark:text-white"
                >Display Name</label
              >
             
              <input
                type="text"
                id="displayName"
                class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
                placeholder="display name" value="{{ user.displayname|default:'' }}"
              />
            </div>

            <!-- Description -->
           

            <div class="mb-6">
              <label for="item-description" class="mb-2 block font-display text-jacarta-700 dark:text-white"
                >About Yourself</label
              >
              
              <textarea
              type="text"
              id="aboutYourself"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="tell us more about yourself, your interest and your experience"
            >{{ user.aboutyourself|default:'' }}</textarea>
            </div>
         
            <!-- Submit -->
            <button
                      type="submit"
                      class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark mt-6"
                      id="profile-form-submit"
                    >
                      Submit
                    </button>
          </div>
        </form>
        {% endif %}
    </div>
    <div class="tab-pane fade" id="accounttab" role="tabpanel" aria-labelledby="account-tab">
      <form id="accountForm">
        <div class="mx-auto max-w-[48.125rem]">
          <div class="flex space-x-7">
          <div class="mb-6 w-1/2">
            <label for="item-email" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Email Address</label
            >
           
            <input
              type="text"
              id="emailAddress"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="email address" value="{{ user.email|default:'' }}" readonly disabled
            />
          </div>
          <div class="mb-6 w-1/2">
            <label for="item-mobile" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Mobile Number</label
            >
           
            <input
              type="text"
              id="mobileNumber"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="mobile number" value="{{ user.contact_number|default:'' }}"
            />
          </div>
        </div>
        <div class="flex space-x-7">
          <div class="mb-6 w-1/2">
            <label for="item-dob" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Date Of Birth</label
            >
           
            <input
              type="date"
              id="dob"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="date of birth" value="{{ user.dob|date:'Y-m-d' }}"
            />
          </div>
          <div class="mb-6 w-1/2">
            <label for="item-state" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >State</label
            >
           
            <input
              type="text"
              id="state"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="state" value="{{ user.state|default:'' }}"
            />
          </div>
        </div>
        <div class="flex space-x-7">
          <div class="mb-6 w-1/2">
            <label for="item-city" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >City</label
            >
           
            <input
              type="text"
              id="city"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="city" value="{{ user.city|default:'' }}"
            />
          </div>
          <div class="mb-6 w-1/2">
            <label for="item-personalAddress" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Personal Address</label
            >
           
            <input
              type="text"
              id="personalAddress"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="personal address" value="{{ user.personalAddress|default:'' }}"
            />
          </div>
        </div>
        <div class="flex space-x-7">
          <div class="mb-6 w-1/2">
            <label for="item-officeAddress" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Office Address</label
            >
           
            <input
              type="text"
              id="officeAddress"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="office address" value="{{ user.officeAddress|default:'' }}"
            />
          </div>
          <div class="mb-6 w-1/2">
            <label for="item-alternateContactNumber" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Alternate Contact Number</label
            >
           
            <input
              type="text"
              id="alternateContactNumber"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="alternate contact number" value="{{ user.alternateContactNumber|default:'' }}"
            />
          </div>
        </div>
        <div class="flex space-x-7">
          <div class="mb-6 w-1/2">
            <label for="item-alternateEmail" class="mb-2 block font-display text-jacarta-700 dark:text-white"
              >Alternate mail/Business mail</label
            >
           
            <input
              type="text"
              id="alternateEmail"
              class="w-full rounded-lg border-jacarta-100 py-3 hover:ring-2 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder:text-jacarta-300"
              placeholder="Alternate mail/Business mail" value="{{ user.alternateEmail|default:'' }}"
            />
          </div>
         
        </div>
      
          <button
          type="submit"
          class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark mt-6"
          id="account-form-submit"
        >
          Update Account
        </button>
        </div>
        </form>
      </div>
    </div>

        </div>
      </section>
      <!-- end create -->
    </main>

    <!-- Wallet Modal -->
    <div class="modal fade" id="walletModal" tabindex="-1" aria-labelledby="walletModalLabel" aria-hidden="true">
      <div class="modal-dialog max-w-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="walletModalLabel">Connect your wallet</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                class="h-6 w-6 fill-jacarta-700 dark:fill-white"
              >
                <path fill="none" d="M0 0h24v24H0z" />
                <path
                  d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"
                />
              </svg>
            </button>
          </div>

          <!-- Body -->
          <div class="modal-body p-6 text-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0"
              y="0"
              viewBox="0 0 318.6 318.6"
              xml:space="preserve"
              class="mb-4 inline-block h-8 w-8"
            >
              <style>
                .st1,
                .st6 {
                  fill: #e4761b;
                  stroke: #e4761b;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                }
                .st6 {
                  fill: #f6851b;
                  stroke: #f6851b;
                }
              </style>
              <path
                fill="#e2761b"
                stroke="#e2761b"
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M274.1 35.5l-99.5 73.9L193 65.8z"
              />
              <path
                class="st1"
                d="M44.4 35.5l98.7 74.6-17.5-44.3zm193.9 171.3l-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z"
              />
              <path
                class="st1"
                d="M103.6 138.2l-15.8 23.9 56.3 2.5-2-60.5zm111.3 0l-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5l33.9 16.5-4.7-39.3z"
              />
              <path
                d="M211.8 247.4l-33.9-16.5 2.7 22.1-.3 9.3zm-105 0l31.5 14.9-.2-9.3 2.5-22.1z"
                fill="#d7c1b3"
                stroke="#d7c1b3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M138.8 193.5l-28.2-8.3 19.9-9.1zm40.9 0l8.3-17.4 20 9.1z"
                fill="#233447"
                stroke="#233447"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M106.8 247.4l4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7l-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1l20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"
                fill="#cd6116"
                stroke="#cd6116"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M87.8 162.1l23.6 46-.8-22.9zm120.3 23.1l-1 22.9 23.7-46zm-64-20.6l-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0l-2.7 18 1.2 45 6.7-34.1z"
                fill="#e4751f"
                stroke="#e4751f"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                class="st6"
                d="M179.8 193.5l-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3l.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z"
              />
              <path
                fill="#c0ad9e"
                stroke="#c0ad9e"
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M180.3 262.3l.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"
              />
              <path
                fill="#161616"
                stroke="#161616"
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M177.9 230.9l-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"
              />
              <path
                d="M278.3 114.2l8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"
                fill="#763d16"
                stroke="#763d16"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                class="st6"
                d="M267.2 153.5l-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3l-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4l3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z"
              />
            </svg>
            <p class="text-center dark:text-white">
              You don't have MetaMask in your browser, please download it from
              <a href="https://metamask.io/" class="text-accent" target="_blank" rel="noreferrer noopener">MetaMask</a>
            </p>
          </div>
          <!-- end body -->

          <div class="modal-footer">
            <div class="flex items-center justify-center space-x-4">
              <a
                href="https://metamask.io/"
                target="_blank"
                rel="noreferrer noopener"
                class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark"
              >
                Get Metamask
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Properties Modal -->
    <div class="modal fade" id="propertiesModal" tabindex="-1" aria-labelledby="addPropertiesLabel" aria-hidden="true">
      <div class="modal-dialog max-w-2xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addPropertiesLabel">Add properties</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                class="h-6 w-6 fill-jacarta-700 dark:fill-white"
              >
                <path fill="none" d="M0 0h24v24H0z" />
                <path
                  d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"
                />
              </svg>
            </button>
          </div>

          <!-- Body -->
          <div class="modal-body p-6">
            <p class="mb-8 dark:text-jacarta-300">
              Item Properties show up underneath your item, are clickable, and can be filtered in your collection's
              sidebar.
            </p>

            <div class="relative my-3 flex items-center">
              <button
                class="flex h-12 w-12 shrink-0 items-center justify-center self-end rounded-l-lg border border-r-0 border-jacarta-100 bg-jacarta-50 hover:bg-jacarta-100 dark:border-jacarta-600 dark:bg-jacarta-700"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  class="h-6 w-6 fill-jacarta-500 dark:fill-jacarta-300"
                >
                  <path fill="none" d="M0 0h24v24H0z"></path>
                  <path
                    d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"
                  ></path>
                </svg>
              </button>

              <div class="flex-1">
                <label class="mb-3 block font-display text-base font-semibold text-jacarta-700 dark:text-white"
                  >Type</label
                >
                <input
                  type="text"
                  class="h-12 w-full border border-r-0 border-jacarta-100 focus:ring-inset focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder-jacarta-300"
                  placeholder="Character"
                />
              </div>

              <div class="flex-1">
                <label class="mb-3 block font-display text-base font-semibold text-jacarta-700 dark:text-white"
                  >Name</label
                >
                <input
                  type="text"
                  class="h-12 w-full rounded-r-lg border border-jacarta-100 focus:ring-inset focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder-jacarta-300"
                  placeholder="Male"
                />
              </div>
            </div>

            <button
              class="mt-2 rounded-full border-2 border-accent py-2 px-8 text-center text-sm font-semibold text-accent transition-all hover:bg-accent hover:text-white"
            >
              Add More
            </button>
          </div>
          <!-- end body -->

          <div class="modal-footer">
            <div class="flex items-center justify-center space-x-4">
              <button
                type="button"
                class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark"
              >
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Levels Modal -->
    <div class="modal fade" id="levelsModal" tabindex="-1" aria-labelledby="addLevelsLabel" aria-hidden="true">
      <div class="modal-dialog max-w-2xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addLevelsLabel">Add levels</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                class="h-6 w-6 fill-jacarta-700 dark:fill-white"
              >
                <path fill="none" d="M0 0h24v24H0z" />
                <path
                  d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"
                />
              </svg>
            </button>
          </div>

          <!-- Body -->
          <div class="modal-body p-6">
            <p class="mb-8 dark:text-jacarta-300">
              Levels show up underneath your item, are clickable, and can be filtered in your collection's sidebar.
            </p>

            <div class="relative my-3 flex items-center">
              <button
                class="flex h-12 w-12 shrink-0 items-center justify-center self-end rounded-l-lg border border-r-0 border-jacarta-100 bg-jacarta-50 hover:bg-jacarta-100 dark:border-jacarta-600 dark:bg-jacarta-700"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  class="h-6 w-6 fill-jacarta-500 dark:fill-jacarta-300"
                >
                  <path fill="none" d="M0 0h24v24H0z"></path>
                  <path
                    d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"
                  ></path>
                </svg>
              </button>

              <div class="w-1/2">
                <label class="mb-3 block font-display text-base font-semibold text-jacarta-700 dark:text-white"
                  >Name</label
                >
                <input
                  type="text"
                  class="h-12 w-full border border-r-0 border-jacarta-100 focus:ring-inset focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder-jacarta-300"
                  placeholder="Speed"
                />
              </div>

              <div class="flex w-1/2 items-end">
                <div class="flex-1">
                  <label class="mb-3 block font-display text-base font-semibold text-jacarta-700 dark:text-white"
                    >Value</label
                  >
                  <input
                    type="number"
                    class="h-12 w-full border border-jacarta-100 focus:ring-inset focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder-jacarta-300"
                    placeholder="3"
                  />
                </div>

                <div
                  class="flex h-12 w-12 items-center justify-center self-end border-y border-jacarta-100 bg-jacarta-50 px-2 dark:border-jacarta-600 dark:bg-jacarta-800 dark:text-jacarta-400"
                >
                  Of
                </div>

                <div class="flex-1 self-end">
                  <input
                    type="number"
                    class="h-12 w-full rounded-r-lg border border-jacarta-100 focus:ring-inset focus:ring-accent dark:border-jacarta-600 dark:bg-jacarta-700 dark:text-white dark:placeholder-jacarta-300"
                    placeholder="10"
                  />
                </div>
              </div>
            </div>

            <button
              class="mt-2 rounded-full border-2 border-accent py-2 px-8 text-center text-sm font-semibold text-accent transition-all hover:bg-accent hover:text-white"
            >
              Add More
            </button>
          </div>
          <!-- end body -->

          <div class="modal-footer">
            <div class="flex items-center justify-center space-x-4">
              <button
                type="button"
                class="rounded-full bg-accent py-3 px-8 text-center font-semibold text-white shadow-accent-volume transition-all hover:bg-accent-dark"
              >
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>


<script>
  $(document).ready(function () {
    $("#userName").on("input", function () {
      let username = $(this).val();
      if (username.length > 0) {
        $.ajax({
          url: "/check-username/",  
          type: "GET",
          data: { username: username },
          success: function (response) {
            let statusIcon = $("#status-icon");
            let errorMessage = $("#error-message");
            
            if (response.exists) {
              statusIcon.html('❌').addClass("text-red-500").removeClass("text-green-500");
              errorMessage.text("Username Already Exists!").addClass("text-red-500");
            } else {
              statusIcon.html('✔').addClass("text-green-500").removeClass("text-red-500");
              errorMessage.text("Username Available!").addClass("text-green-500");
            }
          },
        });
      } else {
        $("#status-icon").html("");
        $("#error-message").text("");
      }
    });
  });

 /* document.getElementById("add-social-link").addEventListener("click", function () {
      const container = document.getElementById("social-links-container");
      const div = document.createElement("div");
      div.classList.add("flex", "items-center", "mb-2", "w-full");
      div.innerHTML = `
          <div class="relative w-1/3">
              <select class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                  <option disabled selected>Select</option>
                  <option>Facebook</option>
                  <option>Twitter</option>
                  <option>Instagram</option>
              </select>
          </div>
          <div class="relative w-2/3">
              <input type="text" placeholder="Add social URL" class="block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
          </div>
          <button type="button" class="text-red-500 hover:text-red-700 remove-social-link">
              <svg class="w-5 h-5" viewBox="0 0 512 512" fill="currentColor">
                  <path d="m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"></path>
              </svg>
          </button>
      `;
      container.append(div);
  });

  document.addEventListener("click", function (event) {
      if (event.target.closest(".remove-social-link")) {
          event.target.closest(".flex").remove();
      }
  }); */

  document.getElementById('imageupload').addEventListener('change', function (event) {
    event.preventDefault(); 

    let file = event.target.files[0];

    if (file) {
        let reader = new FileReader();

        reader.onload = function (e) {
            document.getElementById('profileImage').src = e.target.result;
        };

        reader.readAsDataURL(file);
    }
});

$('#profileForm').on('submit', function(e) {
  console.log("hi");
  e.preventDefault();

  var profile_picture = document.getElementById("imageupload").files[0];
  var username = document.getElementById("userName").value;
  var firstname = document.getElementById("firstName").value;
  var lastname = document.getElementById("lastName").value;
  var displayname = document.getElementById("displayName").value;
  var introduction = document.getElementById("introduction").value;
  var aboutyourself = document.getElementById("aboutYourself").value;
  var youtubeLink = document.getElementById("youtubeLink").value;
  var instagramLink = document.getElementById("instagramLink").value; 
  var followersCount = document.getElementById("instagramFollowersCount").value;
  var subscribersCount = document.getElementById("youtubeSubscribersCount").value;
  let errorMessage = $("#error-message");

  if (errorMessage.hasClass("text-red-500")) {
    alert("Username Already Exists!")
    return; 
  }
  if (!username || !firstname || !lastname || !displayname || !introduction || !aboutyourself || !youtubeLink || !instagramLink || !followersCount || !subscribersCount) {
      toastr.error("please fill all the details")

      return
  }

  var formData = new FormData();

  formData.append('profile_picture', profile_picture);
  formData.append('username', username);
  formData.append('firstname', firstname);
  formData.append('lastname', lastname);
  formData.append('displayname', displayname);
  formData.append('introduction', introduction);
  formData.append('aboutyourself', aboutyourself);
  formData.append('youtubeLink', youtubeLink);
  formData.append('instagramLink', instagramLink);
  formData.append('followersCount', followersCount);
  formData.append('subscribersCount', subscribersCount);
  $.ajax({
      url: '/update_profile_api/',
      type: 'POST',
      data: formData,
      processData: false, 
      contentType: false, 
      success: function(response) {
          toastr.success('Details Updated Successfully!', 'Success');
         
      },
      error: function(xhr) {
          var errors = xhr.responseJSON;
          var firstKey = Object.keys(errors)[0];
          var firstError = errors[firstKey][0];
          toastr.error(firstError, 'Error');
      }
  });
});

$('#accountForm').on('submit', function(e) {
  console.log("hi");
  e.preventDefault();

  var contact_number = document.getElementById("mobileNumber").value;
  var dob = document.getElementById("dob").value;
  var state = document.getElementById("state").value;
  var city = document.getElementById("city").value;
  var personalAddress = document.getElementById("personalAddress").value;
  var officeAddress = document.getElementById("officeAddress").value;
  var alternateEmail = document.getElementById("alternateEmail").value;
  var alternateContactNumber = document.getElementById("alternateContactNumber").value; 
  
   
  
  if ( !contact_number || !dob || !state || !city || !personalAddress || !officeAddress || !alternateEmail || !alternateContactNumber ) {
      toastr.error("please fill all the details")
      return
  }

  var formData = new FormData();

  formData.append('contact_number', contact_number);
  formData.append('dob', dob);
  formData.append('state', state);
  formData.append('city', city);
  formData.append('personalAddress', personalAddress);
  formData.append('officeAddress', officeAddress);
  formData.append('alternateEmail', alternateEmail);
  formData.append('alternateContactNumber', alternateContactNumber);
  
  $.ajax({
      url: '/update_account_api/',
      type: 'POST',
      data: formData,
      processData: false, 
      contentType: false, 
      success: function(response) {
          toastr.success('Details Updated Successfully!', 'Success');
         
      },
      error: function(xhr) {
          var errors = xhr.responseJSON;
          var firstKey = Object.keys(errors)[0];
          var firstError = errors[firstKey][0];
          toastr.error(firstError, 'Error');
      }
  });
});

</script>

    {% endblock %}